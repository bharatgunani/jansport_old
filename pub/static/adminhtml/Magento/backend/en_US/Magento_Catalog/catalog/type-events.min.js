define(['jquery','Magento_Catalog/js/product/weight-handler'],function($,weight){'use strict';return{$type:$('#product_type_id'),init:function(){if(weight.productHasWeight()){this.type={virtual:'virtual',real:this.$type.val()};}else{this.type={virtual:this.$type.val(),real:'simple'};}
this.type.current=this.$type.val();this.bindAll();},bindAll:function(){$(document).on('setTypeProduct',function(event,type){this.setType(type);}.bind(this));this.$type.on('change',function(){this.type.current=this.$type.val();this._notifyType();}.bind(this));},setType:function(type){return this.$type.val(type||this.type.real).trigger('change');},_notifyType:function(){$(document).trigger('changeTypeProduct',this.type);}};});