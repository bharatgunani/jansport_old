define(['ko','underscore','jquery','mage/calendar'],function(ko,_,$){'use strict';var defaults={"dateFormat":"mm\/dd\/yyyy","showsTime":false,"timeFormat":null,"buttonImage":null,"buttonImageOnly":null,"buttonText":"Select Date"}
ko.bindingHandlers.datepicker={init:function(el,valueAccessor){var config=valueAccessor(),observable,options={};_.extend(options,defaults);if(typeof config==='object'){observable=config.storage;_.extend(options,config.options);}else{observable=config;}
$(el).calendar(options);ko.utils.registerEventHandler(el,'change',function(e){observable(this.value);});},update:function(el,valueAccessor){var config=valueAccessor(),observable,value;observable=typeof config==='object'?config.storage:config;value=observable();value?$(el).datepicker('setDate',value):(el.value='');}}});